AWSTemplateFormatVersion: '2010-09-09'
Transform: AWS::Serverless-2016-10-31
Resources:
  History:
    Type: AWS::Serverless::Function
    Properties:
      CodeUri: .
      Events:
        Get:
          Properties:
            Method: get
            Path: /history
          Type: Api
        Options:
          Properties:
            Method: options
            Path: /history
          Type: Api
      Handler: bin/history
      Runtime: go1.x
      Policies:
        - AWSLambdaExecute
  Send:
    Type: AWS::Serverless::Function
    Properties:
      CodeUri: .
      Events:
        Delete:
          Properties:
            Method: post
            Path: /send
          Type: Api
        Options:
          Properties:
            Method: options
            Path: /send
          Type: Api
      Handler: bin/send
      Runtime: go1.x
      Policies:
        - AWSLambdaExecute